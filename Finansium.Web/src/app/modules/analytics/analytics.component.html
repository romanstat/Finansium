<div class="container my-5">
    <h1 class="mb-4">Аналитика</h1>
  
    <!-- Дропдаун для выбора периода -->
    <div class="mb-4">
      <label for="period" class="form-label">Выберите период:</label>
      <select id="period" class="form-select" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
        <option value="week">Неделя</option>
        <option value="month">Месяц</option>
        <option value="quarter">Квартал</option>
        <option value="year">Год</option>
        <option value="all">Всё время</option>
      </select>
    </div>
  
    <!-- Метрики -->
    <div class="row g-3 mb-4">
      <div class="col-md-4">
        <div class="card text-white bg-primary">
          <div class="card-body">
            <h5 class="card-title">Доходы</h5>
            <p class="card-text fs-4">{{ metrics.totalIncome }} {{ currency }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-white bg-danger">
          <div class="card-body">
            <h5 class="card-title">Расходы</h5>
            <p class="card-text fs-4">{{ metrics.totalExpenses }} {{ currency }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-white bg-success">
          <div class="card-body">
            <h5 class="card-title">Количество операций</h5>
            <p class="card-text fs-4">{{ metrics.totalTransactions }}</p>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Топ-5 категорий расходов -->
    <div class="mb-4">
      <h5>Топ 5 категорий расходов</h5>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let category of metrics.topExpenseCategories">
          {{ category.name }} — {{ category.amount }} {{ currency }} ({{ category.count }} операций)
        </li>
      </ul>
    </div>
  
    <!-- Топ-5 категорий доходов -->
    <div>
      <h5>Топ 5 категорий доходов</h5>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let category of metrics.topIncomeCategories">
          {{ category.name }} — {{ category.amount }} {{ currency }} ({{ category.count }} операций)
        </li>
      </ul>
    </div>
  </div>
  